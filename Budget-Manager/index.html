<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Budget manager</title>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>

    <h1>Budget manager</h1>
    <!-- All of the Node.js APIs are available in this renderer process. -->
    <div class="main">
      Budget manager is a simple app, that helps you controll your expenses and income,
      running on Node.js <script>document.write(process.versions.node)</script>,
      Chromium <script>document.write(process.versions.chrome)</script>,
      and Electron <script>document.write(process.versions.electron)</script>.
      <br>
      The current date is
      <script>
        var m = new Date();
        var dateString =
        m.getUTCFullYear() + "/" +
        ("0" + (m.getUTCMonth()+1)).slice(-2) + "/" +
        ("0" + m.getUTCDate()).slice(-2) + " " +
        ("0" + m.getUTCHours()).slice(-2) + ":" +
        ("0" + m.getUTCMinutes()).slice(-2) + ":" +
        ("0" + m.getUTCSeconds()).slice(-2);
        document.write(dateString)
      </script>
    </div>

    <div class="income">
      <script>
        function myFunction() {
          var x = parseInt(document.getElementById("balance").value);
          const fs = require('fs');
          var data = parseInt(fs.readFileSync('balance.json'));
          var newbalance = data + x;
          fs.writeFile('balance.json', newbalance,  function(err) {
            if (err) {
              return console.error(err);
            }
          });
        }
      </script>
      <input type="text" id="balance" value="New income:">
      <button class="btn fourth" onclick="myFunction()">Earned!</button>
    </div>

  </body>

  <script>
    // You can also require other files to run in this process
    require('./renderer.js')
  </script>
</html>
